[supervisord]
nodaemon=true
logfile=/tmp/supervisord.log
pidfile=/tmp/supervisord.pid

[program:gunicorn]
directory=/app
command=gunicorn broker_backend.wsgi:application --bind 0.0.0.0:8000 --workers 1 --timeout 120
autostart=true
autorestart=true
stopsignal=TERM
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr
environment=PYTHONUNBUFFERED="1"

[program:celery]
directory=/app
command=celery -A broker_backend worker -l info
autostart=true
autorestart=true
stopsignal=TERM
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr
environment=PYTHONUNBUFFERED="1"
