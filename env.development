# Development Environment Configuration
# Copy this to .env for local development

# =============================================================================
# DJANGO BACKEND CONFIGURATION
# =============================================================================

# Django Core Settings
DEBUG=true
SECRET_KEY=django-insecure-development-secret-key-change-in-production-2024
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,testserver

# Database Configuration
# Use SQLite for development (set to true for PostgreSQL)
USE_POSTGRES=false
DATABASE_URL=sqlite:///db.sqlite3

# PostgreSQL Configuration (if USE_POSTGRES=true)
POSTGRES_DB=realestate
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================

# Enable Celery for development with local Redis
USE_CELERY=true
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis for Celery and caching
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend URL for CORS and redirects
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# MCP Server Ports
MCP_YAD2_PORT=8001
MCP_GOV_PORT=8002
MCP_GIS_PORT=8003
MCP_MAVAT_PORT=8004

# Frontend MCP URLs (for Next.js environment)
NEXT_PUBLIC_MCP_YAD2_URL=http://localhost:8001
NEXT_PUBLIC_MCP_GOV_URL=http://localhost:8002
NEXT_PUBLIC_MCP_GIS_URL=http://localhost:8003
NEXT_PUBLIC_MCP_MAVAT_URL=http://localhost:8004

# =============================================================================
# AUTHENTICATION & OAUTH
# =============================================================================

# Google OAuth (optional for development)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================

# Email Notifications (Resend)
RESEND_API_KEY=re_41X3KZvG_DfXVunG4An7XERMNzxMG1EbR
RESEND_FROM="RealEstate Agent <no-reply@nadlaner.com>"
RESEND_REPLY_TO=support@nadlaner.com
RESEND_SANDBOX=true
EMAIL_FALLBACK_TO_CONSOLE=true
ALERT_DEFAULT_EMAIL=broker@nadlaner.com
RESEND_WEBHOOK_SECRET=development_secret

# WhatsApp Notifications (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
ALERT_DEFAULT_WHATSAPP_TO=+972501234567

# SMTP configuration is deprecated. Use Resend sandbox mode instead.

# =============================================================================
# EXTERNAL API KEYS (OPTIONAL)
# =============================================================================

# Yad2 API (if available)
YAD2_API_KEY=your_yad2_api_key_here

# RAMI API (if available)
GOV_RAMI_API_KEY=your_gov_rami_api_key_here

# GIS API (if available)
GIS_API_KEY=your_gis_api_key_here

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Slack Webhook for support notifications
SUPPORT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# DEVELOPMENT SPECIFIC SETTINGS
# =============================================================================

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001

# Rate Limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60

# Data Pipeline Settings
MAX_PAGES_PER_SEARCH=3
SEARCH_DELAY_SECONDS=2

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test Database
TEST_DATABASE_URL=sqlite:///test.db

# Test Celery (disable for unit tests)
TEST_USE_CELERY=false

# =============================================================================
# SECURITY SETTINGS (DEVELOPMENT)
# =============================================================================

# CSRF Settings
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Session Settings
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false
SECURE_SSL_REDIRECT=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=DEBUG

# Log File Path
LOG_FILE_PATH=logs/realestate-agent.log

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features for development
ENABLE_ANALYTICS=true
ENABLE_ALERTS=true
ENABLE_MORTGAGE_CALCULATOR=true
ENABLE_MAP_INTEGRATION=true
ENABLE_PDF_GENERATION=true

# =============================================================================
# MAPBOX CONFIGURATION
# =============================================================================

# Mapbox API key for map integration
MAPBOX_ACCESS_TOKEN=your_mapbox_access_token_here

# =============================================================================
# BANK OF ISRAEL INTEGRATION
# =============================================================================

# Bank of Israel API for mortgage rates
BOI_API_URL=https://www.boi.org.il/he/DataAndStatistics/Pages/DataBank.aspx
BOI_API_KEY=your_boi_api_key_here

# =============================================================================
# FILE STORAGE
# =============================================================================

# Media files storage
MEDIA_ROOT=media/
STATIC_ROOT=static/

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Cache backend (redis, database, or dummy)
CACHE_BACKEND=redis
CACHE_LOCATION=redis://localhost:6379/1

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================

# To use this configuration:
# 1. Copy this file to .env in the project root
# 2. Update the API keys and credentials above
# 3. Start Redis: redis-server
# 4. Start Django: python start_backend_with_celery.py
# 5. Start MCP servers: ./run_all.sh
# 6. Start frontend: cd realestate-broker-ui && pnpm dev

# Default test credentials (created by setup_auth.py):
# Admin: admin@example.com / admin123
# Demo: demo@example.com / demo123
