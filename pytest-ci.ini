[tool:pytest]
# CI-specific pytest configuration
# This file can be used in CI environments to skip tests that are known to fail
# due to external service limitations, captcha, or other CI-specific issues

# Skip slow integration tests that depend on external services
addopts = 
    -v
    --tb=short
    --strict-markers
    -m "not slow and not external_service"
    --maxfail=5

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers (same as main pytest.ini)
markers =
    mavat: marks tests for Mavat collector
    yad2: marks tests for Yad2 scraper
    nadlan: marks tests for Nadlan scraper
    decisive: marks tests for Decisive appraisal
    gis: marks tests for GIS client
    rami: marks tests for RAMI client
    govmap: marks tests for GovMap client and collector
    integration: marks tests as integration tests
    slow: marks tests as slow running tests
    external_service: marks tests that depend on external services

# Django settings
DJANGO_SETTINGS_MODULE = broker_backend.settings
